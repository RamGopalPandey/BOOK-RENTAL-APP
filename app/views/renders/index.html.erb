
<!DOCTYPE html>
<html ng-app="bookApp" lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="<%= asset_path('book.js') %>"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="../assets/book.js"></script>
  <link type="text/css" rel="stylesheet" href="../assets/angular-flash.min.css" />
  <script src="../assets/angular-animate.js"></script>
  <script src="../assets/angular-flash.min.js"></script>
  <script src="../assets/angular-cookies.js"></script>
  <!-- FLASH MESSAGES -->
  <link rel="stylesheet" type="text/css" href="../assets/flashes.css">

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Book Rental | Home</title>

  <!-- Font awesome -->
  <link href="<%= asset_path('font-awesome.css') %>" rel="stylesheet">
  <!-- Bootstrap -->
  <link href="<%= asset_path('bootstrap.css') %>" rel="stylesheet">
  <!-- SmartMenus jQuery Bootstrap Addon CSS -->
  <link href="<%= asset_path('jquery.smartmenus.bootstrap.css') %>" rel="stylesheet">
  <!-- Product view slider -->
  <link rel="stylesheet" type="text/css" href="<%= asset_path('simpleLens.css') %>">
  <!-- slick slider -->
  <link rel="stylesheet" type="text/css" href="<%= asset_path('slick.css') %>">
  <!-- price picker slider -->
  <link rel="stylesheet" type="text/css" href="<%= asset_path('nouislider.css') %>">
  <!-- Theme color -->
  <link id="switcher" href="<%= asset_path('default-theme.css') %>" rel="stylesheet">
  <!-- <link id="switcher" href="<%= asset_path('bridge-theme.css') %>" rel="stylesheet"> -->
  <!-- Top Slider CSS -->
  <link href="<%= asset_path('sequence-theme.modern-slide-in.css') %>" rel="stylesheet" media="all">
  <!-- Main style sheet -->
  <link href="<%= asset_path('style.css') %>" rel="stylesheet">

  <!-- Google Font -->
  <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->


</head>
<body ng-controller="bookCtrl" ng-cloak ng-init="init()">
  <div ng-repeat="flash in flashes">
<div ng-if="gotMessage()" role="alert" ng-show="hasFlash" class="alert alert-{{flash.type}} alert-dismissible ng-hide alertIn alertOut "> 
  <span dynamic="flash.text"></span> 
  <button type="button" class="close" close-flash ng-click="hideMessage()">
    <span aria-hidden="true">&times;</span>
    <span class="sr-only">Close</span>
  </button> 
</div>
</div>
<!-- SCROLL TOP BUTTON -->
<a class="scrollToTop" href="#"><i class="fa fa-chevron-up"></i></a>
<!-- END SCROLL TOP BUTTON -->


<!-- Start header section -->
<header id="aa-header">
  <!-- start header top  -->
  <div class="aa-header-top">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="aa-header-top-area">
            <div class="aa-header-top-right">
              <ul class="aa-head-top-nav-right">
                <li ng-if="loggedIn" class="hidden-xs"><a href="" ng-click="allBooks()">All Books</a></li>
                <li ng-if="loggedIn" class="hidden-xs"><a href="" ng-click="filterMyBooks()">My Books</a></li>
                <li ng-if="loggedIn" class="hidden-xs"><a href="" ng-click="filterStudiedBooks()">Rented Studied Books</a></li>
                <li ng-if="!loggedIn"><a href="" data-toggle="modal" data-target="#login-modal">Login</a></li>
                <li style="float: left" ng-if="loggedIn"><a href="" data-toggle="modal" data-target="#upload-modal">Upload Book</a></li>
                <li ng-if="loggedIn" ng-click="logout()"><a href="">Logout</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / header top  -->

  <!-- start header bottom  -->
  <div class="aa-header-bottom">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="aa-header-bottom-area">
            <!-- logo  -->
            <div class="aa-logo">
              <!-- Text based logo -->
              <a href="#">
                <p>Book<strong>Rental</strong> <span>Rent your books</span></p>
              </a>
              <!-- img based logo -->
              <!-- <a href="index.html"><img src="../assets/logo.jpg" alt="logo img"></a> -->
            </div>
            <!-- / logo  -->
            <!-- search box -->
            <div class="aa-search-box">
                <input type="text" name="" id="" ng-model="key" placeholder="Search for your book here ">
                <button type="submit" ng-click="search()"><span>Search</span></button>
            </div>
            <!-- / search box -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / header bottom  -->
</header>
<!-- / header section -->

<section id="aa-product">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="aa-product-area">
            <div class="aa-product-inner">
              <!-- start prduct navigation -
              <ul class="nav nav-tabs aa-products-tab">
                <li class="active"><a href="#men" data-toggle="tab">History</a></li>
                <li><a href="#women" data-toggle="tab">Geography</a></li>
                <li><a href="#sports" data-toggle="tab">Mathematics</a></li>
                <li><a href="#electronics" data-toggle="tab">Physics</a></li>
              </ul>
              <!-- Tab panes -->
              <div class="tab-content" ng-if="allBooksSelected">
                <!-- Start men product category -->
                <ul ng-repeat="book in books" >
                  <!-- start single book item -->
                  <li>

                    <div  style="height: 100px; background-color: #CCCCCC;">
                      <img style="float: left" src="https://cdn.imaginarium.es/photo/58845/libro-cuentacuentos-con-sonidos-y-personajes_58845_1.jpg">
                      <div  style="float: left; margin-left: 20px">
                        <h3 ><a href="#">{{book.title}}</a></h3>
                        <h4 >Author: {{book.author}}</h4>
                      </div>
                      <h5  style="float: right; margin-top: 30px; margin-right: 20px">
                        <button ng-if="book.rented_by_id == null && loggedIn && isNotMyBook(book)" data-toggle="modal" data-target="#rented-modal" type="submit" ng-click="rentBook(book)"> RENT</button></h5>
                      <h5  style="float: right; margin-top: 30px; margin-right: 20px">
                        <button ng-if="iRentedThisBook(book)" ng-click="returnBook(book)" data-toggle="modal" data-target="#return-modal"> RETURN</button></h5>
                      <h5 style="float: right; margin-top: 30px; margin-right: 20px;  cursor: pointer; ">MORE INFO</h5>
                    </div>
                    <div style="height: 20px"></div>
                  </li>

                </ul>


              </div>

              <div class="tab-content" ng-if="myBooksSelected">
                <!-- Start men product category -->
                <ul ng-repeat="book in myBooks" >
                  <!-- start single book item -->
                  <li>

                    <div  style="height: 100px; background-color: #CCCCCC;">
                      <img style="float: left" src="https://cdn.imaginarium.es/photo/58845/libro-cuentacuentos-con-sonidos-y-personajes_58845_1.jpg">
                      <div  style="float: left; margin-left: 20px">
                        <h3 ><a href="#">{{book.title}}</a></h3>
                        <h4 >Author: {{book.author}}</h4>
                      </div>
                      <h5 style="float: right; margin-top: 30px; margin-right: 20px;  cursor: pointer; ">MORE INFO</h5>
                    </div>
                    <div style="height: 20px"></div>
                  </li>

                </ul>


              </div>


              <div class="tab-content" ng-if="studiedBooksSelected">
                <!-- Start men product category -->
                <ul ng-repeat="book in studiedBooks" >
                  <!-- start single book item -->
                  <li>

                    <div  style="height: 100px; background-color: #CCCCCC;">
                      <img style="float: left" src="https://cdn.imaginarium.es/photo/58845/libro-cuentacuentos-con-sonidos-y-personajes_58845_1.jpg">
                      <div  style="float: left; margin-left: 20px">
                        <h3 ><a href="#">{{book.title}}</a></h3>
                        <h4 >Author: {{book.author}}</h4>
                      </div>
                      <h5  style="float: right; margin-top: 30px; margin-right: 20px">
                        <button ng-if="book.rented_by_id == null  && isNotMyBook(book)" ng-click="rentBook(book)"> RENT</button></h5>
                      <h5  style="float: right; margin-top: 30px; margin-right: 20px">
                        <button ng-if="iRentedThisBook(book)" ng-click="returnBook(book)" data-toggle="modal" data-target="#return-modal"> RETURN</button></h5>
                      <h5 style="float: right; margin-top: 30px; margin-right: 20px;  cursor: pointer; ">MORE INFO</h5>
                    </div>
                    <div style="height: 20px"></div>
                  </li>

                </ul>


              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Login Modal -->
<div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4>Login or Register</h4>
        <form class="aa-login-form" action="">
          <label for="">Username or Email address<span>*</span></label>
          <input type="text" placeholder="Email" ng-model="email">
          <label for="">Password<span>*</span></label>
          <input type="password" placeholder="Password" ng-model="password">
          <button class="aa-browse-btn col-xs-12" type="submit" ng-click="login()">Login</button>
          <div class="aa-register-now">
            Don't have an account?<a href="" data-toggle="modal" data-target="#register-modal">>Register now!</a>
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>


<!-- Register Modal -->
<div class="modal fade" id="register-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4>Login or Register</h4>
        <form class="aa-login-form" action="">
          <label for="">First name<span>*</span></label>
          <input type="text" placeholder="First Name" ng-model="first_name">
          <label for="">Last name<span>*</span></label>
          <input type="text" placeholder="Last Name" ng-model="last_name">
          <label for="">Email address<span>*</span></label>
          <input type="text" placeholder="Email" ng-model="email">
          <label for="">Password<span>*</span></label>
          <input type="password" placeholder="Password" ng-model="password">
          <label for="">Repeat Password<span>*</span></label>
          <input type="password" placeholder="Password" ng-model="password_confirmation">
          <button class="aa-browse-btn col-xs-12" type="submit" ng-click="register()">Register</button>
          <div>
            .
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>


<!-- Upload Modal -->
<div class="modal fade" id="upload-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4>Upload your book!</h4>
        <form class="aa-login-form" action="">
          <label for="">Title<span>*</span></label>
          <input type="text" ng-model="bookToUpload.title">
          <label for="">Author<span>*</span></label>
          <input type="text"  ng-model="bookToUpload.author">
          <label for="">ISBN Code<span>*</span></label>
          <input type="text"  ng-model="bookToUpload.isbn">
          <button class="aa-browse-btn col-xs-12" type="submit" ng-click="upload()">Upload</button>
          <div>
            .
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<!-- RENTED Modal -->
<div class="modal fade" id="rented-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <form class="aa-login-form" action="">
        <h4>BOOK SUCCESFULLY RENTED!</h4>
          <button class="aa-browse-btn col-xs-12" type="submit">Accept</button>
          <div>
            .
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<!-- RENTED Modal -->
<div class="modal fade" id="return-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <form class="aa-login-form" action="">
        <h4>BOOK SUCCESFULLY RETURNED!</h4>
          <button class="aa-browse-btn col-xs-12" type="submit">Accept</button>
          <div>
            .
          </div>
        </form>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="<%= asset_path('bootstrap.js') %>"></script>
<!-- SmartMenus jQuery plugin -->
<script type="text/javascript" src="<%= asset_path('jquery.smartmenus.js') %>"></script>
<!-- SmartMenus jQuery Bootstrap Addon -->
<script type="text/javascript" src="<%= asset_path('jquery.smartmenus.bootstrap.js') %>"></script>
<!-- To Slider JS -->
<script src="<%= asset_path('sequence.js') %>"></script>
<script src="../assets/sequence-theme.modern-slide-in.js"></script>
<!-- Product view slider -->b
<script type="text/javascript" src="<%= asset_path('jquery.simpleGallery.js') %>"></script>
<script type="text/javascript" src="<%= asset_path('jquery.simpleLens.js') %>"></script>
<!-- slick slider -->
<script type="text/javascript" src="<%= asset_path('slick.js') %>"></script>
<!-- Price picker slider -->
<script type="text/javascript" src="<%= asset_path('nouislider.js') %>"></script>
<!-- Custom js -->
<script src="<%= asset_path('custom.js') %>"></script>

</body>
</html>
